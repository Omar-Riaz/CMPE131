{"version":3,"file":"contentScript.af015ca02213871bf829.hot-update.js","sources":["webpack:///./src/contentScript.js"],"sourcesContent":["\"use strict\";\r\nconst annotationsList = require('./annotations_list').default;\r\nconst annotationsModal = require('./annotations_modal').default;\r\nconst annotationsMiniModal = require('./annotations_mini_modal').default;\r\nconst ReactDOM = require('react-dom');\r\nconst React = require('react');\r\n// const MediumEditor = require('medium-editor');\r\n\r\n//listener for events\r\nchrome.extension.onMessage.addListener((request, sender, sendResponse) => {\r\n  if(request.contentType === \"create\") {\r\n\r\n    sendResponse({content: \"creating modal\"});\r\n\r\n\r\n    // var jQuery = document.createElement('script');\r\n    // jQuery.type = 'text/javascript';\r\n    // jQuery.src = \"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\";\r\n\r\n    // var bootstrapHTML = document.createElement('link');\r\n    // bootstrapHTML.rel = 'stylesheet';\r\n    // bootstrapHTML.href = \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\";\r\n    //\r\n    //\r\n    // var bootstrapJS = document.createElement('script');\r\n    // bootstrapJS.type = 'text/javascript';\r\n    // bootstrapJS.src = \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\";\r\n\r\n    var mediumEditor = document.createElement('script');\r\n    mediumEditor.src = '//cdn.jsdelivr.net/npm/medium-editor@latest/dist/js/medium-editor.min.js';\r\n    mediumEditor.onload = function() {\r\n      var editorScript = document.createElement('script');\r\n      editorScript.innerHTML = \"var editor = new MediumEditor('.editable');\";\r\n      document.body.appendChild(editorScript);\r\n    };\r\n\r\n    var mediumStyle = document.createElement('link');\r\n    mediumStyle.rel = 'stylesheet';\r\n    mediumStyle.type = 'text/css';\r\n    mediumStyle.charset = 'utf-8';\r\n    mediumStyle.media = 'screen';\r\n    mediumStyle.href = '//cdn.jsdelivr.net/npm/medium-editor@latest/dist/css/medium-editor.min.css';\r\n    // document.body.appendChild(jQuery);\r\n    // document.body.appendChild(bootstrapHTML);\r\n    // document.body.appendChild(mediumEditor);\r\n    // document.body.appendChild(mediumStyle);\r\n\r\n    let miniModal = document.createElement('div');\r\n    miniModal.setAttribute('id', 'annotationMiniModal');\r\n    document.body.appendChild(miniModal);\r\n    annotationsMiniModal(request);\r\n\r\n    let modal = document.createElement('div');\r\n    modal.setAttribute('id', 'annotationModal');\r\n    document.body.appendChild(modal);\r\n    annotationsModal(request);\r\n\r\n    //load the scripts into this iframe\r\n    let aFrame = document.createElement('iframe');\r\n    aFrame.id = \"script-loading-frame\";\r\n    // aFrame.appendChild(jQuery);\r\n    // aFrame.appendChild(bootstrapHTML);\r\n    aFrame.appendChild(mediumEditor);\r\n    aFrame.appendChild(mediumStyle);\r\n    document.body.appendChild(aFrame);\r\n\r\n\r\n    //wrap the body in a div to allow tooltip to work\r\n    var editableWrap = document.createElement('div');\r\n    editableWrap.className = 'editable';\r\n    // Move the body's children into this wrapper\r\n    while (document.body.firstChild)\r\n    {\r\n      editableWrap.appendChild(document.body.firstChild);\r\n    }\r\n\r\n// Append the wrapper to the body\r\n    document.body.appendChild(editableWrap);\r\n\r\n\r\n    return true;\r\n  }\r\n\r\n  else if(request.contentType === \"triggerMiniModal\"){\r\n\r\n    sendResponse({content: \"triggering mini modal\"});\r\n\r\n    annotationsList(request.url);                   //render annotationList using content, after creating id's\r\n    //document.getElementById('quoteText').innerHTML = '\"' + request.quoteText + '\"';\r\n\r\n    let modal = document.getElementById('parentMiniModal');\r\n    modal.style.display = \"block\";\r\n\r\n    return true;\r\n  }\r\n\r\n  else if(request.contentType === \"url\"){                 //if request contains url, need to display\r\n\r\n    sendResponse({content: \"displaying modal\"});\r\n\r\n    //document.getElementById('annotationText').innerHTML = request.annotationText;\r\n    annotationsList(request.url);                   //render annotationList using content, after creating id's\r\n    //document.getElementById('quoteText').innerHTML = '\"' + request.quoteText + '\"';\r\n\r\n    let modal = document.getElementById('parentModal');\r\n    modal.style.display = \"block\";\r\n\r\n    return true;\r\n  }\r\n});\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AADA;AACA;AAEA;AAAA;AAAA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AAIA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAEA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;;;;A","sourceRoot":""}