{"version":3,"file":"contentScript.35fd4201be356f1bb42a.hot-update.js","sources":["webpack:///./src/contentScript.js"],"sourcesContent":["\"use strict\";\r\nconst annotationsList = require('./annotations_list').default;\r\nconst annotationsModal = require('./annotations_modal').default;\r\nconst annotationsMiniModal = require('./annotations_mini_modal').default;\r\nconst ReactDOM = require('react-dom');\r\nconst React = require('react');\r\nconst MediumEditor = require('medium-editor');\r\n\r\n//listener for events\r\nchrome.extension.onMessage.addListener((request, sender, sendResponse) => {\r\n  if(request.contentType === \"create\") {\r\n\r\n    sendResponse({content: \"creating modal\"});\r\n\r\n\r\n    var jQuery = document.createElement('script');\r\n    jQuery.type = 'text/javascript';\r\n    jQuery.src = \"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\";\r\n    //const jQueryViewport = document.getElementById('body');\r\n    //jQueryViewport.prepend(jQuery);\r\n\r\n    var bootstrapHTML = document.createElement('link');\r\n    bootstrapHTML.rel = 'stylesheet';\r\n    bootstrapHTML.href = \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\";\r\n    //const bootstrapHTMLViewport = document.getElementById('body');\r\n    //bootstrapHTMLViewport.prepend(bootstrapHTML);\r\n\r\n\r\n    /*var bootstrapJS = document.createElement('script');\r\n    //bootstrapJS.type = 'text/javascript';\r\n    jQuery.setAttribute('src', \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\");\r\n    document.head.appendChild(bootstrapJS); */\r\n\r\n    var bootstrapJS = document.createElement('script');\r\n    bootstrapJS.type = 'text/javascript';\r\n    bootstrapJS.src = \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\";\r\n    //const bootstrapJSViewport = document.getElementById('body');\r\n    //bootstrapJSViewport.prepend(bootstrapHTML);\r\n\r\n    var mediumEditor = document.createElement('script');\r\n    mediumEditor.type = 'text/javascript';\r\n    mediumEditor.src = '//cdn.jsdelivr.net/npm/medium-editor@latest/dist/js/medium-editor.min.js';\r\n\r\n    var mediumStyle = document.createElement('link');\r\n    mediumStyle.rel = 'stylesheet';\r\n    mediumStyle.type = 'text/css';\r\n    mediumStyle.charset = 'utf-8';\r\n    mediumStyle.media = 'screen';\r\n    mediumStyle.href = '//cdn.jsdelivr.net/npm/medium-editor@latest/dist/css/medium-editor.min.css';\r\n    document.head.appendChild(jQuery);\r\n    document.head.appendChild(bootstrapHTML);\r\n    document.head.appendChild(mediumStyle);\r\n\r\n    let miniModal = document.createElement('div');\r\n    miniModal.setAttribute('id', 'annotationMiniModal');\r\n    document.body.appendChild(miniModal);\r\n    annotationsMiniModal(request);\r\n\r\n    let modal = document.createElement('div');\r\n    modal.setAttribute('id', 'annotationModal');\r\n    document.body.appendChild(modal);\r\n    annotationsModal(request);\r\n\r\n    document.onselectionchange = function() {\r\n      var editor = new MediumEditor('.editable');\r\n      console.log(\"selection changed\");\r\n    };\r\n    return true;\r\n  }\r\n\r\n  else if(request.contentType === \"triggerMiniModal\"){\r\n\r\n    sendResponse({content: \"triggering mini modal\"});\r\n\r\n    annotationsList(request.url);                   //render annotationList using content, after creating id's\r\n    //document.getElementById('quoteText').innerHTML = '\"' + request.quoteText + '\"';\r\n\r\n    let modal = document.getElementById('parentMiniModal');\r\n    modal.style.display = \"block\";\r\n\r\n    return true;\r\n  }\r\n\r\n  else if(request.contentType === \"url\"){                 //if request contains url, need to display\r\n\r\n    sendResponse({content: \"displaying modal\"});\r\n\r\n    //document.getElementById('annotationText').innerHTML = request.annotationText;\r\n    annotationsList(request.url);                   //render annotationList using content, after creating id's\r\n    //document.getElementById('quoteText').innerHTML = '\"' + request.quoteText + '\"';\r\n\r\n    let modal = document.getElementById('parentModal');\r\n    modal.style.display = \"block\";\r\n\r\n    return true;\r\n  }\r\n});\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A;;;;;;;;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;;;;;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAEA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;;;;A","sourceRoot":""}